{% extends 'layouts/base.html' %}
{% load static %}

{% block breadcrumbs %}{% endblock breadcrumbs %}

{% block content %}

  <!-- [ Main Content ] start -->
  <div class="row">
    <div class="col-sm-8">
      <div class="card">
        <div class="card-header">
          <h5>Edit Info</h5>
        </div>
        <div class="card-block">
          <form action="{% url 'update_user' %}" method="POST">
            {% csrf_token %}
            <div class="row">
              <div class="col-sm-6 mb-4">
                <div class="form-group">
                  <label for="fn">First Name</label>
                  <input type="text" class="form-control" name="first_name"
                    placeholder="First Name" value="{{request.user.first_name}}">
                </div>
              </div>
              <div class="col-sm-6 mb-4">
                <div class="form-group">
                  <label for="ln">Last Name</label>
                  <input type="text" class="form-control" name="last_name"
                    placeholder="Last Name" value="{{request.user.last_name}}">
                </div>
              </div>
              <div class="col-sm-6 mb-4">
                <div class="form-group">
                  <label>User name</label>
                  <input type="text" class="form-control" name="username" value="{{request.user.username}}" readonly>
                </div>
              </div>
              <div class="col-sm-6 mb-4">
                <div class="form-group">
                  <label>Email address</label>
                  <input type="email" class="form-control" name="email"
                    aria-describedby="emailHelp" placeholder="Enter email" value="{{request.user.email}}">
                  <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone
                    else.</small>
                </div>
              </div>
              <div class="col-sm-6 mb-4">
                <div class="form-group">
                  <label for="ln">Birthday</label>
                  <input class="form-control" name="birthday" type="date" value="{{request.user.account.birthday|date:"Y-m-d" }}">
                </div>
              </div>
              <div class="col-sm-6 mb-4">
                <div class="form-group">
                  <label>Gender</label>
                  <select class="form-control" name="gender" value="{{request.user.account.gender}}">
                    <option value="female" {% if request.user.account.gender == 'female' %}selected{% endif %}>Female</option>
                    <option value="male" {% if request.user.account.gender == 'male' %}selected{% endif %}>Male</option>
                  </select>
                </div>
              </div>
              <div class="col-sm-12 mb-4">
                <div class="form-group">
                  <label for="abt">About Info</label>
                  <textarea type="text" class="form-control" name="bio"
                    placeholder="Bio">{{request.user.account.bio|default_if_none:""}}</textarea>
                  <small id="abf" class="form-text text-muted">We'll show this on your profile.</small>
                </div>
              </div>
            </div>
            {% if messages %}
                {% for message in messages %}
                  {% if message.tags == 'success' %}
                  <div class="alert alert-success display-flex align-items-center for-alert" role="alert">
                  {% elif message.tags == 'error' %}
                  <div class="alert alert-danger display-flex align-items-center for-alert" role="alert">
                  {% endif %}
                      <p class="alert-p mb-0">{{ message }}</p>
                </div>
                {% endfor %}
            {% endif %}
            <button type="submit" class="btn btn-primary">Save</button>
          </form>
        </div>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="card">
        <div class="card-block">
          <div class="d-flex align-items-center justify-content-center flex-column">
            <div class="w-50 p-3">
              <img src="https://via.placeholder.com/500" alt="profile image"
                class="img-fluid rounded-circle">
            </div>
            <div class="text-center">
              <h4 class="font-weight-bold h6">{{request.user.last_name}} {{request.user.first_name}}</h4>
              {% comment %} <p class="font-italic text-muted">Lorem ipsum dolor.</p> {% endcomment %}
            </div>
          </div>

          {% comment %} <div class="small font-weight-light mt-4 text-center text-muted">
            <p>{{request.user.account.bio}}</p>
          </div> {% endcomment %}
          {% comment %} <div class="d-flex justify-content-center align-items-center">
            <a href="#" class="h6 text-muted d-block m-1"><i class="icon feather icon-facebook"></i></a>
            <a href="#" class="h6 text-muted d-block m-1"><i class="icon feather icon-twitter"></i></a>
            <a href="#" class="h6 text-muted d-block m-1"><i class="icon feather icon-instagram"></i></a>

          </div> {% endcomment %}
        </div>
      </div>
    </div>
  </div>
  <!-- [ Main Content ] end -->

 {% endblock content %}